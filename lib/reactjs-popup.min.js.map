{"version":3,"file":"reactjs-popup.min.js","sources":["../src/Utils.js","../src/index.css.js","../src/index.js"],"sourcesContent":["/* Algo to calculate position\n  1. center position for popup content : the center of the trigger will be the center of the content content\n      so the popup content position will be like this :\n      top => the y of the center for the trigger element : trigger.top + trigger.height/2\n      left => the x of the center for the trigger element : trigger.left + trigger.width/2\n\n  2. translate position according to the first  position attribute  passed  in the function argument\n      for example :\n        position = 'left top'\n        we need to handle the first argument in the position: 'left' => that's mean we need to translate the popup content according to the X axis by - content.width/2\n\n  3.translate position according to the first  position attribute  passed  in the function argument\n    for example :\n      position = 'left top'\n      the second argument 'top' => translate popup content by + content.height*4/5\n\n  4. check if calculated position is going out of bounds of wrapper box or not. If yes repeat 1-3 for next position enum. By default wrapper box is window element\n*/\n\nfunction getCoordinatesForPosition(\n  triggerBounding,\n  ContentBounding,\n  position,\n  arrow,\n  { offsetX, offsetY }\n) {\n  const style = {};\n  const margin = arrow ? 8 : 0;\n  const args = position.split(\" \");\n  // the step N 1 : center the popup content => ok\n  const CenterTop = triggerBounding.top + triggerBounding.height / 2;\n  const CenterLeft = triggerBounding.left + triggerBounding.width / 2;\n  const { height, width } = ContentBounding;\n  let top = CenterTop - height / 2;\n  let left = CenterLeft - width / 2;\n  let transform = \"\";\n  let arrowTop = \"0%\";\n  let arrowLeft = \"0%\";\n  // the  step N 2 : => ok\n  switch (args[0]) {\n    case \"top\":\n      top -= height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(45deg)`;\n      arrowTop = \"100%\";\n      arrowLeft = \"50%\";\n      break;\n    case \"bottom\":\n      top += height / 2 + triggerBounding.height / 2 + margin;\n      transform = `rotate(225deg)`;\n      arrowLeft = \"50%\";\n      break;\n    case \"left\":\n      left -= width / 2 + triggerBounding.width / 2 + margin;\n      transform = ` rotate(-45deg)`;\n      arrowLeft = \"100%\";\n      arrowTop = \"50%\";\n      break;\n    case \"right\":\n      left += width / 2 + triggerBounding.width / 2 + margin;\n      transform = `rotate(135deg)`;\n      arrowTop = \"50%\";\n\n      break;\n  }\n  switch (args[1]) {\n    case \"top\":\n      top = triggerBounding.top;\n      arrowTop = triggerBounding.height / 2 + \"px\";\n      break;\n    case \"bottom\":\n      top = triggerBounding.top - height + triggerBounding.height;\n      arrowTop = height - triggerBounding.height / 2 + \"px\";\n      break;\n    case \"left\":\n      left = triggerBounding.left;\n      arrowLeft = triggerBounding.width / 2 + \"px\";\n      break;\n    case \"right\":\n      left = triggerBounding.left - width + triggerBounding.width;\n      arrowLeft = width - triggerBounding.width / 2 + \"px\";\n      break;\n  }\n\n  top = args[0] === \"top\" ? top - offsetY : top + offsetY;\n  left = args[0] === \"left\" ? left - offsetX : left + offsetX;\n\n  return { top, left, transform, arrowLeft, arrowTop };\n}\n\nexport default function calculatePosition(\n  triggerBounding,\n  ContentBounding,\n  positions,\n  arrow,\n  { offsetX, offsetY },\n  wrapperBox\n) {\n  let bestCoords;\n  let i = 0;\n  while (i < positions.length) {\n    bestCoords = getCoordinatesForPosition(\n      triggerBounding,\n      ContentBounding,\n      positions[i],\n      arrow,\n      { offsetX, offsetY }\n    );\n\n    const contentBox = {\n      top: bestCoords.top,\n      left: bestCoords.left,\n      width: ContentBounding.width,\n      height: ContentBounding.height\n    };\n\n    if (\n      contentBox.top <= wrapperBox.top ||\n      contentBox.left <= wrapperBox.left ||\n      contentBox.top + contentBox.height >=\n        wrapperBox.top + wrapperBox.height ||\n      contentBox.left + contentBox.width >= wrapperBox.left + wrapperBox.width\n    ) {\n      i++;\n    } else {\n      break;\n    }\n  }\n\n  return bestCoords;\n}\n","export default {\n  popupContent: {\n    tooltip: {\n      position: \"absolute\",\n      zIndex: \"2\",\n      width: \"200px\",\n      background: `rgb(255, 255, 255)`,\n      border: `1px solid rgb(187, 187, 187)`,\n      boxShadow: `rgba(0, 0, 0, 0.2) 0px 1px 3px`,\n      padding: \"5px\"\n    },\n    modal: {\n      position: \"relative\",\n      background: `rgb(255, 255, 255)`,\n      width: \"50%\",\n      margin: \"auto\",\n      border: `1px solid rgb(187, 187, 187)`,\n      padding: \"5px\"\n    }\n  },\n  popupArrow: {\n    height: \"10px\",\n    width: \"10px\",\n    position: \"absolute\",\n    background: \"rgb(255, 255, 255)\",\n    transform: \"rotate(45deg)\",\n    margin: \"-5px\",\n    zIndex: \"-1\",\n    boxShadow: \"rgba(0, 0, 0, 0.2) 1px 1px 1px\"\n  },\n  overlay: {\n    tooltip: {\n      position: \"fixed\",\n      top: \"0\",\n      bottom: \"0\",\n      left: \"0\",\n      right: \"0\"\n    },\n    modal: {\n      position: \"fixed\",\n      top: \"0\",\n      bottom: \"0\",\n      left: \"0\",\n      right: \"0\",\n      background: `rgba(0, 0, 0,0.5)`,\n      display: \"flex\",\n      zIndex: \"999\"\n    }\n  }\n};\n","import React from \"react\";\nimport { findDOMNode } from \"react-dom\";\nimport calculatePosition from \"./Utils\";\n\nimport styles from \"./index.css.js\";\nconst POSITION_TYPES = [\n  \"top left\",\n  \"top center\",\n  \"top right\",\n  \"right top\",\n  \"right center\",\n  \"right bottom\",\n  \"bottom left\",\n  \"bottom center\",\n  \"bottom right\",\n  \"left top\",\n  \"left center\",\n  \"left bottom\"\n];\n\nexport default class Popup extends React.PureComponent {\n  static defaultProps = {\n    children: () => <span> Your Content Here !!</span>,\n    trigger: null,\n    onOpen: () => {},\n    onClose: () => {},\n    defaultOpen: false,\n    open: false,\n    preventClose: false,\n    disabled: false,\n    closeOnDocumentClick: true,\n    repositionOnResize:true,\n    closeOnEscape: true,\n    on: [\"click\"],\n    contentStyle: {},\n    arrowStyle: {},\n    overlayStyle: {},\n    className: \"\",\n    position: \"bottom center\",\n    modal: false,\n    lockScroll: false,\n    arrow: true,\n    offsetX: 0,\n    offsetY: 0,\n    mouseEnterDelay: 100,\n    mouseLeaveDelay: 100,\n    keepTooltipInside: false\n  };\n  state = {\n    isOpen: this.props.open || this.props.defaultOpen,\n    modal: this.props.modal ? true : !this.props.trigger\n    // we create this modal state because the popup can't be a tooltip if the trigger prop doesn't exist\n  };\n\n  constructor(props) {\n    super(props);\n    this.setTriggerRef = r => (this.TriggerEl = r);\n    this.setContentRef = r => (this.ContentEl = r);\n    this.setArrowRef = r => (this.ArrowEl = r);\n    this.setHelperRef = r => (this.HelperEl = r);\n    this.timeOut = 0;\n  }\n\n  componentDidMount() {\n    const { closeOnEscape, defaultOpen ,repositionOnResize} = this.props;\n    if (defaultOpen) this.setPosition();\n    if (closeOnEscape) {\n      window.addEventListener(\"keyup\", this.onEscape);\n    }\n    if(repositionOnResize){\n      window.addEventListener('resize', this.repositionOnResize);\n    }\n  }\n\n  repositionOnResize = () => {\n      this.setPosition()\n  }\n  onEscape = (e) => {\n    if (e.key === \"Escape\") this.closePopup();\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (this.props.open === nextProps.open) return;\n    if (nextProps.open) this.openPopup();\n    else this.closePopup();\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.disabled !== this.props.disabled\n        && this.props.disabled\n        && this.state.isOpen) {\n        this.closePopup();\n    }\n  }\n\n  componentWillUnmount() {\n    // kill any function to execute if the component is unmounted\n    clearTimeout(this.timeOut);\n\n    const { closeOnEscape ,repositionOnResize} = this.props;\n // remove events listeners\n    if (closeOnEscape) {\n      window.removeEventListener(\"keyup\", this.onEscape);\n    }\n    if(repositionOnResize){\n      window.removeEventListener('resize', this.repositionOnResize);\n    }\n  }\n\n  lockScroll = () => {\n    if (this.state.modal && this.props.lockScroll)\n      document.getElementsByTagName(\"body\")[0].style.overflow = \"hidden\";\n  };\n  resetScroll = () => {\n    if (this.state.modal && this.props.lockScroll)\n      document.getElementsByTagName(\"body\")[0].style.overflow = \"auto\";\n  };\n\n  togglePopup = () => {\n    if (this.state.isOpen) this.closePopup();\n    else this.openPopup();\n  };\n  openPopup = () => {\n    if (this.state.isOpen || this.props.disabled) return;\n    this.setState({ isOpen: true }, () => {\n      this.setPosition();\n      this.props.onOpen();\n      this.lockScroll();\n    });\n  };\n  closePopup = () => {\n    if (!this.state.isOpen || this.props.preventClose) return; // allow for the user to prevent close\n    this.props.onClose();\n    this.setState({ isOpen: false }, () => {\n      this.resetScroll();\n    });\n  };\n  onMouseEnter = () => {\n    clearTimeout(this.timeOut);\n    const { mouseEnterDelay } = this.props;\n    this.timeOut = setTimeout(() => this.openPopup(), mouseEnterDelay);\n  };\n  onMouseLeave = () => {\n    clearTimeout(this.timeOut);\n    const { mouseLeaveDelay } = this.props;\n    this.timeOut = setTimeout(() => this.closePopup(), mouseLeaveDelay);\n  };\n\n  getTooltipBoundary = () => {\n    const { keepTooltipInside } = this.props;\n    let boundingBox = {\n      top: 0,\n      left: 0,\n      width: window.innerWidth,\n      height: window.innerHeight\n    };\n    if (typeof keepTooltipInside === \"string\") {\n      const selector = document.querySelector(keepTooltipInside);\n      if (process.env.NODE_ENV !== \"production\") {\n        if (selector === null)\n          throw new Error(\n            `${keepTooltipInside} selector is not exist : keepTooltipInside must be a valid html selector 'class' or 'Id'  or a boolean value`\n          );\n      }\n      boundingBox = selector.getBoundingClientRect();\n    }\n    return boundingBox;\n  };\n\n  setPosition = () => {\n    const { modal,isOpen } = this.state;\n    if (modal|| !isOpen) return;\n    const { arrow, position, offsetX, offsetY, keepTooltipInside, arrowStyle } = this.props;\n    const helper = this.HelperEl.getBoundingClientRect();\n    const trigger = this.TriggerEl.getBoundingClientRect();\n    const content = this.ContentEl.getBoundingClientRect();\n    const boundingBox = this.getTooltipBoundary();\n    let positions = Array.isArray(position) ? position : [position];\n\n    // keepTooltipInside would be activated if the  keepTooltipInside exist or the position is Array\n    if (keepTooltipInside || Array.isArray(position))\n      positions = [...positions, ...POSITION_TYPES];\n\n    const cords = calculatePosition(\n      trigger,\n      content,\n      positions,\n      arrow,\n      {\n        offsetX,\n        offsetY\n      },\n      boundingBox\n    );\n    this.ContentEl.style.top = cords.top - helper.top + \"px\";\n    this.ContentEl.style.left = cords.left - helper.left + \"px\";\n    if (arrow) {\n      this.ArrowEl.style[\"transform\"] = cords.transform;\n      this.ArrowEl.style[\"-ms-transform\"] = cords.transform;\n      this.ArrowEl.style[\"-webkit-transform\"] = cords.transform;\n      this.ArrowEl.style.top = arrowStyle.top || cords.arrowTop;\n      this.ArrowEl.style.left = arrowStyle.left || cords.arrowLeft;\n    }\n    if (\n      window\n        .getComputedStyle(this.TriggerEl, null)\n        .getPropertyValue(\"position\") == \"static\" ||\n      window\n        .getComputedStyle(this.TriggerEl, null)\n        .getPropertyValue(\"position\") == \"\"\n    )\n      this.TriggerEl.style.position = \"relative\";\n  };\n\n  addWarperAction = () => {\n    const { contentStyle, className, on } = this.props;\n    const { modal } = this.state;\n    const popupContentStyle = modal\n      ? styles.popupContent.modal\n      : styles.popupContent.tooltip;\n\n    const childrenElementProps = {\n      className: `popup-content ${className}`,\n      style: Object.assign({}, popupContentStyle, contentStyle),\n      ref: this.setContentRef,\n      onClick: e => {\n        e.stopPropagation();\n      }\n    };\n    if (!modal && on.indexOf(\"hover\") >= 0) {\n      childrenElementProps.onMouseEnter = this.onMouseEnter;\n      childrenElementProps.onMouseLeave = this.onMouseLeave;\n    }\n    return childrenElementProps;\n  };\n  renderTrigger = () => {\n    const triggerProps = { key: \"T\" };\n    const { on, trigger } = this.props;\n    const onAsArray = Array.isArray(on) ? on : [on];\n    for (let i = 0, len = onAsArray.length; i < len; i++) {\n      switch (onAsArray[i]) {\n        case \"click\":\n          triggerProps.onClick = this.togglePopup;\n          break;\n        case \"hover\":\n          triggerProps.onMouseEnter = this.onMouseEnter;\n          triggerProps.onMouseLeave = this.onMouseLeave;\n          break;\n        case \"focus\":\n          triggerProps.onFocus = this.onMouseEnter;\n          break;\n      }\n    }\n\n    if (typeof trigger === \"function\")\n      return React.cloneElement(trigger(this.state.isOpen), triggerProps);\n\n    return React.cloneElement(trigger, triggerProps);\n  };\n\n  renderContent = () => {\n    const { arrow, arrowStyle } = this.props;\n    const { modal } = this.state;\n    return (\n      <div {...this.addWarperAction()} key=\"C\">\n        {arrow &&\n          !modal && (\n            <div\n              ref={this.setArrowRef}\n              style={Object.assign({}, styles.popupArrow, arrowStyle)}\n            />\n          )}\n        {typeof this.props.children === \"function\"\n          ? this.props.children(this.closePopup, this.state.isOpen)\n          : this.props.children}\n      </div>\n    );\n  };\n\n  render() {\n    const { overlayStyle, closeOnDocumentClick, on } = this.props;\n    const { modal } = this.state;\n    const overlay = this.state.isOpen && !(on.indexOf(\"hover\") >= 0);\n    const ovStyle = modal ? styles.overlay.modal : styles.overlay.tooltip;\n    return [\n      !!this.props.trigger && (\n        <Ref innerRef={this.setTriggerRef} key=\"R\">\n          {this.renderTrigger()}\n        </Ref>\n      ),\n      this.state.isOpen && (\n        <div\n          key=\"H\"\n          style={{ position: \"absolute\", top: \"0px\", left: \"0px\" }}\n          ref={this.setHelperRef}\n        />\n      ),\n      overlay && (\n        <div\n          key=\"O\"\n          className=\"popup-overlay\"\n          style={Object.assign({}, ovStyle, overlayStyle)}\n          onClick={closeOnDocumentClick ? this.closePopup : undefined}\n        >\n          {modal && this.renderContent()}\n        </div>\n      ),\n      this.state.isOpen && !modal && this.renderContent(),\n    ];\n  }\n}\n\nif (process.env.NODE_ENV !== \"production\") {\n  const PropTypes = require(\"prop-types\");\n  const TRIGGER_TYPES = [\"hover\", \"click\", \"focus\"];\n\n  Popup.propTypes = {\n    arrowStyle: PropTypes.object,\n    contentStyle: PropTypes.object,\n    overlayStyle: PropTypes.object,\n    className: PropTypes.string,\n    modal: PropTypes.bool,\n    closeOnDocumentClick: PropTypes.bool,\n    repositionOnResize:PropTypes.bool,\n    disabled: PropTypes.bool,\n    lockScroll: PropTypes.bool,\n    offsetX: PropTypes.number,\n    offsetY: PropTypes.number,\n    mouseEnterDelay: PropTypes.number,\n    mouseLeaveDelay: PropTypes.number,\n    onOpen: PropTypes.func,\n    onClose: PropTypes.func,\n    open: PropTypes.bool,\n    preventClose: PropTypes.bool,\n    defaultOpen: PropTypes.bool,\n    trigger: PropTypes.oneOfType([PropTypes.func, PropTypes.element]), // for uncontrolled component we don't need the trigger Element\n    on: PropTypes.oneOfType([\n      PropTypes.oneOf(TRIGGER_TYPES),\n      PropTypes.arrayOf(PropTypes.oneOf(TRIGGER_TYPES))\n    ]),\n    children: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.element,\n      PropTypes.string\n    ]).isRequired,\n    position: PropTypes.oneOfType([\n      PropTypes.oneOf(POSITION_TYPES),\n      PropTypes.arrayOf(PropTypes.oneOf(POSITION_TYPES))\n    ]),\n    keepTooltipInside: PropTypes.oneOfType([PropTypes.bool, PropTypes.string])\n  };\n}\n\nclass Ref extends React.PureComponent {\n  componentDidMount() {\n    const { innerRef } = this.props;\n    if (innerRef) innerRef(findDOMNode(this));\n  }\n\n  render() {\n    const { children } = this.props;\n    return React.Children.only(children);\n  }\n}\n"],"names":["getCoordinatesForPosition","triggerBounding","ContentBounding","position","arrow","offsetX","offsetY","margin","args","split","CenterTop","top","height","CenterLeft","left","width","transform","arrowTop","arrowLeft","popupContent","tooltip","zIndex","background","border","boxShadow","padding","modal","popupArrow","overlay","bottom","right","display","POSITION_TYPES","Popup","props","isOpen","_this","open","defaultOpen","trigger","setPosition","e","key","closePopup","state","lockScroll","document","getElementsByTagName","style","overflow","openPopup","disabled","setState","onOpen","preventClose","onClose","resetScroll","clearTimeout","timeOut","mouseEnterDelay","setTimeout","mouseLeaveDelay","keepTooltipInside","boundingBox","window","innerWidth","innerHeight","querySelector","getBoundingClientRect","arrowStyle","helper","HelperEl","TriggerEl","content","ContentEl","getTooltipBoundary","positions","Array","isArray","cords","wrapperBox","bestCoords","i","length","contentBox","calculatePosition","ArrowEl","getComputedStyle","getPropertyValue","contentStyle","className","on","popupContentStyle","styles","childrenElementProps","Object","assign","ref","setContentRef","onClick","stopPropagation","indexOf","onMouseEnter","onMouseLeave","triggerProps","onAsArray","len","togglePopup","onFocus","React","cloneElement","addWarperAction","setArrowRef","children","setTriggerRef","r","setHelperRef","PureComponent","this","closeOnEscape","repositionOnResize","addEventListener","onEscape","nextProps","prevProps","removeEventListener","overlayStyle","closeOnDocumentClick","ovStyle","Ref","innerRef","renderTrigger","undefined","renderContent","findDOMNode","Children","only"],"mappings":"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"}